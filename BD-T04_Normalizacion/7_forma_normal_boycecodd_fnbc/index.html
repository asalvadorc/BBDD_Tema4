<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://asalvadorc.github.io/BBDD_Tema4/BD-T04_Normalizacion/7_forma_normal_boycecodd_fnbc/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>7. Forma Normal Boyce-Codd (FNBC) - BD - Bases de Dades</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/extra.css" rel="stylesheet" />
        <link href="../../img/favicon.ico" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "7. Forma Normal Boyce-Codd (FNBC)";
        var mkdocs_page_input_path = "BD-T04_Normalizacion/7_forma_normal_boycecodd_fnbc.md";
        var mkdocs_page_url = "/BBDD_Tema4/BD-T04_Normalizacion/7_forma_normal_boycecodd_fnbc/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../assets/logocaminas.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Normalització</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../objectius/">Objectius</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../1_introducci/">1. Introducció</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../2_primer_forma_normal_1fn/">2. Primer Forma Normal (1FN)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../3_dependncia_funcional/">3.  Dependència Funcional</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../4_segona_forma_normal_2fn/">4. Segona Forma Normal (2FN)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../5_dependncia_funcional_transitiva/">5. Dependència Funcional Transitiva</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../6_tercera_forma_normal_3fn/">6. Tercera Forma Normal (3FN)</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">7. Forma Normal Boyce-Codd (FNBC)</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Exemple_complet/">Exemple Complet</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../resum/">Resum</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercicis/">Exercicis</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">BD - Bases de Dades</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Normalització</li>
      <li class="breadcrumb-item active">7. Forma Normal Boyce-Codd (FNBC)</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="7-forma-normal-boyce-codd-fnbc">7. Forma Normal Boyce-Codd (FNBC)</h1>
<p>Després de la creació de la 3FN es va observar, posteriorment, que podien
haver anomalies que no eren abordades. De tota manera són unes redundàncies ja
molt extranyes, i que de vegades no valdrà la pena considerar-les.  </p>
<p>Són casos de taules que encara que estan en 3FN, mantenen una dependència d'un
atribut secundari amb part de la clau. És l'únic cas de dependència transitiva
que se'ns podia haver escapat. Gràficament és el següent cas:</p>
<p><img alt="" src="../T4_7_1.png" /></p>
<div style="background-color: #d6eaf8; color: black; padding: 5px;"> 
Una taula T està en FNBC si i només si està en 1FN i les úniques
dependències funcionals elementals són aquelles en les quals la clau principal
(i claus candidates) determinen un atribut.
</div>
<p></p>
<hr />
<p>La definició engloba la 3FN ja que les dependències transitives existeixen per
mig d'atributs secundaris que no eren clau.</p>
<p>Si la clau està formada per un únic atribut i ja estava en 3FN, la taula està
en FNBC (com succeïa amb la 2FN).</p>
<p><u><strong>Exemple</strong></u> : Taula d'una guia de carrers</p>
<p><strong>GUIA DE CARRERS</strong></p>
<table>
<thead>
<tr>
<th><strong><u>ADREÇA</u></strong></th>
<th><strong><u>CIUTAT</u></strong></th>
<th><strong>CODPOST</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>C/ Pez, 2</td>
<td>Benicarló</td>
<td>12580</td>
</tr>
<tr>
<td>C/ Luz, 5</td>
<td>Benicarló</td>
<td>12580</td>
</tr>
<tr>
<td>C/ Mar, 4</td>
<td>Castelló</td>
<td>12005</td>
</tr>
<tr>
<td>C/ Sol, 4</td>
<td>Vinaròs</td>
<td>12500</td>
</tr>
<tr>
<td>C/ Sal, 9</td>
<td>Castelló</td>
<td>12004</td>
</tr>
<tr>
<td>C/ Mar, 4</td>
<td>Vinaròs</td>
<td>12500</td>
</tr>
</tbody>
</table>
<p>Les dependències funcionals que ens trobem són:</p>
<p><strong>ADREÇA . CIUTAT</strong> →<strong>CODPOST</strong></p>
<p><strong>CODPOST</strong> →<strong>CIUTAT</strong></p>
<p>Gràficament:</p>
<p><img alt="" src="../T4_7_2.png" /></p>
<p>Si observem atentament les tuples d'una taula com aquesta, veurem que per a un
mateix codi postal existeixen multitud de tuples que es corresponen amb la
mateixa ciutat (tantes com adreces hi haja diferents), per tant existeix
informació duplicada.</p>
<p>Si la informació, una vegada que es dóna d'alta no varia, és més rendible que
la dependència funcional <strong>CODPOST</strong> → <strong>CIUTAT</strong> es trobe en una altra taula
i que existisca una sola tupla per a cada codi postal.</p>
<p>A més a més, què succeeix si s'elimina la tupla amb adreça "C/ Sol, 4" de
"Vinaròs" i la tupla "C/ Mar, 4" de "Vinaròs"? El que ocorre és que desapareix
la relació entre el codi postal "12500" i "Vinaròs" i potser aquestes dades
haurien de mantenir-se.</p>
<p>Si analitzem amb més detall la taula, veuríem que en realitat es pot
substituir la clau principal per <strong>A + C</strong> (en l'exemple <strong>ADREÇA +
CODPOSTAL</strong>), ja que si A + B ja era clau principal, com per cada valor de C
només podem tenir un de B, la combinació A + C també podrà identificar
unívocament cada ocurrència de la taula. Per tant, si substituirem la clau
principal, ja no tindríem dubtes de com normalitzar la taula, que serà
justament com veurem a continuació:</p>
<p><img alt="" src="../T4_7_1.png" />  és equivalent a   <img alt="" src="../T4_7_1_5.png" />  </p>
<p><strong>Posar en FNBC</strong></p>
<p>L'algoritme de descomposició que s'aplica a una taula que no està en FNBC és
el següent:</p>
<p>Si tenim una dependència funcional <strong>C → B</strong> on <strong>C</strong> i <strong>B</strong> són disjunts,
<strong>C</strong> és una atribut no primari, i <strong>B</strong> forma part de la clau.</p>
<p>S'obtenen les projeccions:</p>
<blockquote>
<p><strong>A)</strong> Una <strong>primera taula T1</strong> amb tots els atributs, excepte <strong>B</strong> (el que
formava part de la clau principal); ara formarà part de la clau principal
<strong>C</strong>.</p>
<p><strong>B)</strong> Una <strong>segona taula T2</strong> amb els atributs <strong>C</strong> i <strong>B</strong> , i serà la
clau principal <strong>C</strong></p>
</blockquote>
<p>En l'exemple inicial d'aquesta pregunta quedarà:</p>
<p><strong>A)</strong>  </p>
<p><img alt="" src="../T4_7_3.png" />  </p>
<p><strong>B)</strong> </p>
<p><img alt="" src="../T4_7_4.png" />  </p>
<p>En l'exemple de la GUIA DE CARRERS:</p>
<p><img alt="" src="../T4_7_5.png" /></p>
<p>I quedarien amb la següent informació:</p>
<p><strong>GUIA-ADREÇA</strong></p>
<table>
<thead>
<tr>
<th><strong><u>ADREÇA</u></strong></th>
<th><strong><u>CODPOST</u></strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>C/ Pez, 2</td>
<td>12580</td>
</tr>
<tr>
<td>C/ Luz, 5</td>
<td>12580</td>
</tr>
<tr>
<td>C/ Mar, 4</td>
<td>12005</td>
</tr>
<tr>
<td>C/ Sol, 4</td>
<td>12500</td>
</tr>
<tr>
<td>C/ Sal, 9</td>
<td>12004</td>
</tr>
<tr>
<td>C/ Mar, 4</td>
<td>12500</td>
</tr>
</tbody>
</table>
<p><strong>GUIA-CODPOST</strong></p>
<table>
<thead>
<tr>
<th><strong><u>CODPOST</u></strong></th>
<th><strong>CIUTAT</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>12004</td>
<td>Castelló</td>
</tr>
<tr>
<td>12005</td>
<td>Castelló</td>
</tr>
<tr>
<td>12500</td>
<td>Vinaròs</td>
</tr>
<tr>
<td>12580</td>
<td>Benicarló</td>
</tr>
</tbody>
</table>
<p>Per últim, observem les taules que ens queden. Voldrem tenir una taula de
codis postals? Si el disseny és per a Correus o Telefònica, o una empresa gran
que tinga molts client i els vol tenir distribuïts per codis postals, doncs
segur que sí.</p>
<p>Però si es tracta d'una empresa no massa gran, i que tampoc interessa massa la
distribució per codis postals, segurament mantenir una taula de codis postals
pot semblar fins i tot ridícul. Aleshores, mantenir la taula en 3FN i assumir
la miqueta de redundància que suposa no tenir-la en FNBC, pot ser fins i tot
saludable. Per això s'ha comentat des del principi del tema la importància de
normalitzar fins la 3FN, i la FNBC té una importància relativa.</p>
<p>De manera que la representació de les taules al <strong>model relacional</strong> quedaria de la manera següent:</p>
<pre><cod>
    GUIA-ADREÇA(<b>adreça,codpos</b>)
    GUIA-CODPOST(<b>codpost</b>,ciutat)
</cod></pre>
<hr />
<p>Llicenciat sota la  <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Llicència Creative Commons Reconeixement NoComercial
SenseObraDerivada 3.0</a></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../6_tercera_forma_normal_3fn/" class="btn btn-neutral float-left" title="6. Tercera Forma Normal (3FN)"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../Exemple_complet/" class="btn btn-neutral float-right" title="Exemple Complet">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../6_tercera_forma_normal_3fn/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Exemple_complet/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
